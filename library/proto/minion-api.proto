syntax = "proto3";
package proto;

import "controller-api.proto";

service MinionControllerService {
    rpc CreateCDIs(MinionCreateCDIsRequest) returns (MinionCreateCDIsResponse) {}
    rpc UpdateCDIs(MinionUpdateCDIsRequest) returns (MinionUpdateCDIsResponse) {}
    rpc TransferAndDeleteCDIs(MinionTransferAndDeleteCDIsRequest) returns (MinionTransferAndDeleteCDIsResponse) {}
    rpc DeleteCDIs(MinionDeleteCDIsRequest) returns (MinionDeleteCDIsResponse) {}
}

message MinionCreateCDIsRequest {
    repeated CdiConfig cdi_configs = 1;
}

message MinionCreateCDIsResponse {
    string err = 1;

}

message MinionUpdateCDIsRequest {
    repeated CdiConfig cdi_configs = 1;
}

message MinionUpdateCDIsResponse {
    string err = 1;
}

message MinionTransferAndDeleteCDIsRequest {
    string transfer_host = 1;
    string transfer_port = 2;
    repeated CdiConfig cdi_configs = 3;
}

message MinionTransferAndDeleteCDIsResponse {
    string err = 2;
}

message MinionDeleteCDIsRequest {
    repeated CdiConfig cdi_configs = 1;
}

message MinionDeleteCDIsResponse {
    string err = 1;
}
